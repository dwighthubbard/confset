#!/usr/bin/env python
import sys
import os
import shutil
import time
import logging
from confset import *

def usage():
  print 'confset conffile.parameter=value'
  sys.exit(1)
       
args=' '.join(sys.argv[1:])
filter=None

if args:
  if '.' not in args:
    configs=conf_settings(args)
  else:
    conffile=args.split('.')[0]
    filter=args.split('.')[1]
    configs=conf_settings(conffile)
else:
  usage()
  
if '=' not in args:
  configs.print_settings(filter=filter)
  sys.exit(0)
  
if '.' not in args:
  usage()
      
key=''.join(args.split('.')[1:]).split('=')[0].strip()
value='.'.join(args.split('.')[1:]).split('=')[1].strip()
configs.set(key,value)
sys.exit(0)
    